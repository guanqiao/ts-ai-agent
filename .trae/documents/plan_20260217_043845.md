## Wiki æ–‡æ¡£ç”Ÿæˆç›‘æ§ä¼˜åŒ–æ–¹æ¡ˆï¼ˆç¬¬äºŒé˜¶æ®µï¼‰

### ä¸€ã€CLI å¢å¼º

#### 1. åˆ›å»ºå¢å¼ºç‰ˆè¿›åº¦æ¡ç±» (`src/cli/progress-bar.ts`)
- å¤šè¡Œè¿›åº¦æ˜¾ç¤ºï¼šæ€»ä½“è¿›åº¦ + å½“å‰é˜¶æ®µè¿›åº¦
- å½©è‰²å›¾æ ‡ï¼šä¸åŒé˜¶æ®µä½¿ç”¨ä¸åŒé¢œè‰²å’Œå›¾æ ‡
- åŠ¨ç”»æ•ˆæœï¼šè¿›åº¦æ¡åŠ¨ç”»ã€æ—‹è½¬æŒ‡ç¤ºå™¨
- æ—¶é—´æ˜¾ç¤ºï¼šå·²ç”¨æ—¶é—´ã€é¢„ä¼°å‰©ä½™æ—¶é—´

#### 2. è¿›åº¦æ¡æ˜¾ç¤ºæ•ˆæœ
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸš€ Wiki æ–‡æ¡£ç”Ÿæˆ                                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  æ€»ä½“è¿›åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  35%          â•‘
â•‘  å·²ç”¨æ—¶é—´: 00:12  é¢„ä¼°å‰©ä½™: 00:23  æ€»è®¡: ~00:35              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ“Š æ¶æ„åˆ†æ                                                   â•‘
â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  60%          â•‘
â•‘  æ­£åœ¨åˆ†æ: src/wiki/wiki-manager.ts                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### äºŒã€æ—¶é—´é¢„ä¼°

#### 1. æ‰©å±•ç±»å‹å®šä¹‰ (`src/wiki/types.ts`)
```typescript
export interface TimeEstimate {
  elapsedMs: number;          // å·²ç”¨æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
  estimatedRemainingMs: number; // é¢„ä¼°å‰©ä½™æ—¶é—´
  estimatedTotalMs: number;   // é¢„ä¼°æ€»æ—¶é—´
  averageSpeed: number;       // å¹³å‡é€Ÿåº¦ï¼ˆé¡¹/ç§’ï¼‰
  phaseEstimates: PhaseTimeEstimate[];
}

export interface PhaseTimeEstimate {
  phase: GenerationPhase;
  elapsedMs: number;
  estimatedRemainingMs: number;
  itemsPerSecond: number;
}
```

#### 2. æ—¶é—´é¢„ä¼°ç®—æ³•
- åŸºäºå·²å®Œæˆé˜¶æ®µçš„å®é™…è€—æ—¶
- æ ¹æ®é˜¶æ®µæƒé‡æ¯”ä¾‹é¢„ä¼°å‰©ä½™æ—¶é—´
- åŠ¨æ€è°ƒæ•´é¢„ä¼°ï¼ˆæ¯ç§’æ›´æ–°ï¼‰
- æ”¯æŒå†å²æ•°æ®å‚è€ƒï¼ˆå¯é€‰ï¼‰

### ä¸‰ã€è¿›åº¦æŒä¹…åŒ–

#### 1. åˆ›å»ºè¿›åº¦æŒä¹…åŒ–ç±» (`src/wiki/wiki-progress-persistence.ts`)
```typescript
export interface ProgressSnapshot {
  id: string;
  projectPath: string;
  phase: GenerationPhase;
  step: number;
  totalSteps: number;
  timestamp: Date;
  stats: GenerationStats;
  timeEstimate: TimeEstimate;
  checksum: string;
}

export class WikiProgressPersistence {
  save(snapshot: ProgressSnapshot): Promise<void>;
  load(projectPath: string): Promise<ProgressSnapshot | null>;
  listPending(): Promise<ProgressSnapshot[]>;
  clear(projectPath: string): Promise<void>;
}
```

#### 2. æŒä¹…åŒ–æ–‡ä»¶æ ¼å¼
- å­˜å‚¨ä½ç½®ï¼š`.wiki/progress/`
- æ–‡ä»¶æ ¼å¼ï¼šJSON
- åŒ…å«æ ¡éªŒå’Œç¡®ä¿æ•°æ®å®Œæ•´æ€§
- æ”¯æŒæ–­ç‚¹æ¢å¤å’Œç»§ç»­

### å››ã€å®æ–½æ­¥éª¤

1. **æ‰©å±•ç±»å‹å®šä¹‰** - æ·»åŠ æ—¶é—´é¢„ä¼°ç›¸å…³æ¥å£
2. **å¢å¼º WikiProgressMonitor** - æ·»åŠ æ—¶é—´é¢„ä¼°è®¡ç®—é€»è¾‘
3. **åˆ›å»ºè¿›åº¦æŒä¹…åŒ–ç±»** - å®ç°ä¿å­˜/åŠ è½½/æ¢å¤åŠŸèƒ½
4. **åˆ›å»ºå¢å¼ºç‰ˆè¿›åº¦æ¡** - CLI å¤šè¡Œå½©è‰²è¿›åº¦æ˜¾ç¤º
5. **é›†æˆåˆ° CLI** - æ›´æ–° handleWikiGenerate ä½¿ç”¨æ–°ç»„ä»¶
6. **ç¼–å†™æµ‹è¯•ç”¨ä¾‹** - ç¡®ä¿æ–°åŠŸèƒ½æ­£ç¡®å·¥ä½œ

### äº”ã€æ–°å¢æ–‡ä»¶

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `src/cli/progress-bar.ts` | å¢å¼ºç‰ˆ CLI è¿›åº¦æ¡ |
| `src/wiki/wiki-progress-persistence.ts` | è¿›åº¦æŒä¹…åŒ– |
| `tests/wiki/wiki-progress-persistence.test.ts` | æŒä¹…åŒ–æµ‹è¯• |