# Wiki åŠŸèƒ½å¢å¼ºå¼€å‘è®¡åˆ’

> ç‰ˆæœ¬: 1.0.0  
> åˆ›å»ºæ—¥æœŸ: 2026-02-16  
> çŠ¶æ€: è§„åˆ’ä¸­

---

## ä¸€ã€é¡¹ç›®èƒŒæ™¯

### 1.1 å¯¹æ ‡äº§å“
é˜¿é‡Œ Qoder Repo Wiki åŠŸèƒ½ï¼Œä¸»è¦ç‰¹æ€§åŒ…æ‹¬ï¼š
- åŸºäºä»£ç è‡ªåŠ¨ç”Ÿæˆç»“æ„åŒ–æ–‡æ¡£
- æ¶æ„å›¾è°±ã€å¼•ç”¨å…³ç³»å›¾è°±å¯è§†åŒ–
- Wiki å…±äº«ã€ç¼–è¾‘å’Œå¯¼å‡º
- éšæ€§çŸ¥è¯†æ˜¾æ€§åŒ–
- å›¢é˜Ÿåä½œæ”¯æŒ

### 1.2 å½“å‰çŠ¶æ€
æœ¬é¡¹ç›® Wiki æ¨¡å—å·²å®ç°ï¼š
- âœ… è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ï¼ˆæ¦‚è§ˆã€æ¶æ„ã€APIã€æ¨¡å—ï¼‰
- âœ… ç‰ˆæœ¬æ§åˆ¶ä¸å†å²ç®¡ç†
- âœ… å®¡è®¡æ—¥å¿—
- âœ… è‡ªåŠ¨åŒæ­¥ä¸ç›‘æ§
- âœ… å‘é‡æœç´¢ï¼ˆé¢†å…ˆï¼‰
- âœ… è§„èŒƒå­¦ä¹ ï¼ˆé¢†å…ˆï¼‰
- âœ… ä¸Šä¸‹æ–‡å‹ç¼©ï¼ˆé¢†å…ˆï¼‰
- âœ… Prompt å¢å¼ºï¼ˆé¢†å…ˆï¼‰

### 1.3 å·®è·åˆ†æ

| åŠŸèƒ½é¢†åŸŸ | Qoder | å½“å‰é¡¹ç›® | å·®è·ç­‰çº§ |
|---------|-------|---------|---------|
| Wiki å…±äº«æœºåˆ¶ | âœ… | âŒ | ğŸ”´ é‡å¤§ |
| å›¢é˜Ÿåä½œåŠŸèƒ½ | âœ… | âŒ | ğŸ”´ é‡å¤§ |
| å¼•ç”¨å…³ç³»å›¾è°±å¯è§†åŒ– | âœ… | âš ï¸ æ–‡æœ¬ | ğŸŸ  è¾ƒå¤§ |
| éšæ€§çŸ¥è¯†æ˜¾æ€§åŒ–ï¼ˆADRï¼‰ | âœ… | âš ï¸ åŸºç¡€ | ğŸŸ  è¾ƒå¤§ |
| Wiki ç¼–è¾‘å™¨å¢å¼º | âœ… | âš ï¸ åŸºç¡€ | ğŸŸ¡ è½»å¾® |
| æ¶æ„æ–‡æ¡£å¯è§†åŒ– | âœ… | âš ï¸ æ–‡æœ¬ | ğŸŸ¡ è½»å¾® |
| çŸ¥è¯†å›¾è°±æ„å»º | âš ï¸ | âŒ | ğŸŸ¡ è½»å¾® |
| å˜æ›´å½±å“åˆ†æå¢å¼º | âš ï¸ | âš ï¸ åŸºç¡€ | ğŸŸ¡ è½»å¾® |

---

## äºŒã€å¼€å‘é˜¶æ®µè§„åˆ’

### Phase 1: P0 æ ¸å¿ƒåŠŸèƒ½ï¼ˆé¢„è®¡ 2 å‘¨ï¼‰

#### 2.1.1 Wiki å…±äº«æœºåˆ¶

**ç›®æ ‡**: å®ç° Wiki æ–‡æ¡£çš„å›¢é˜Ÿå…±äº«èƒ½åŠ›

**åŠŸèƒ½éœ€æ±‚**:
1. Git é›†æˆå…±äº«
   - è‡ªåŠ¨å°† Wiki æäº¤åˆ°æŒ‡å®š Git ç›®å½•
   - æ”¯æŒ `.wiki/` æˆ– `docs/wiki/` ç›®å½•
   - ä¸è¿œç¨‹ä»“åº“åŒæ­¥

2. å…±äº«é…ç½®ç®¡ç†
   - å…±äº«èŒƒå›´è®¾ç½®ï¼ˆå…¬å¼€/å›¢é˜Ÿ/ç§æœ‰ï¼‰
   - å…±äº«è·¯å¾„é…ç½®
   - åŒæ­¥ç­–ç•¥é…ç½®

3. åŒæ­¥çŠ¶æ€è¿½è¸ª
   - æœ¬åœ°ä¸è¿œç¨‹åŒæ­¥çŠ¶æ€
   - å†²çªæ£€æµ‹ä¸è§£å†³
   - åŒæ­¥å†å²è®°å½•

**æŠ€æœ¯æ–¹æ¡ˆ**:
```typescript
interface WikiSharingConfig {
  enabled: boolean;
  shareToGit: boolean;
  sharePath: string;
  accessControl: 'public' | 'team' | 'private';
  syncWithRemote: boolean;
  autoCommit: boolean;
  commitMessage: string;
}

interface WikiSharingService {
  initialize(config: WikiSharingConfig): Promise<void>;
  share(): Promise<ShareResult>;
  sync(): Promise<SyncResult>;
  getStatus(): ShareStatus;
  resolveConflicts(conflicts: Conflict[]): Promise<void>;
}
```

**ä¾èµ–å…³ç³»**:
- ä¾èµ–ç°æœ‰ GitWatcher æ¨¡å—
- ä¾èµ– WikiStorage æ¨¡å—

**éªŒæ”¶æ ‡å‡†**:
- [ ] å¯é…ç½®å…±äº«ç›®å½•å’ŒåŒæ­¥ç­–ç•¥
- [ ] æ”¯æŒè‡ªåŠ¨æäº¤åˆ° Git
- [ ] æ”¯æŒä¸è¿œç¨‹ä»“åº“åŒæ­¥
- [ ] åŒæ­¥çŠ¶æ€å¯æŸ¥è¯¢

---

#### 2.1.2 å¼•ç”¨å…³ç³»å›¾è°±å¯è§†åŒ–

**ç›®æ ‡**: å®ç°ä»£ç å¼•ç”¨å…³ç³»çš„å¯è§†åŒ–å±•ç¤º

**åŠŸèƒ½éœ€æ±‚**:
1. ä¾èµ–å…³ç³»å›¾
   - æ¨¡å—é—´ä¾èµ–å…³ç³»
   - æ–‡ä»¶é—´ä¾èµ–å…³ç³»
   - å¾ªç¯ä¾èµ–æ£€æµ‹

2. è°ƒç”¨å…³ç³»å›¾
   - å‡½æ•°è°ƒç”¨å…³ç³»
   - ç±»ç»§æ‰¿å…³ç³»
   - æ¥å£å®ç°å…³ç³»

3. å›¾è¡¨æ ¼å¼æ”¯æŒ
   - Mermaid å›¾è¡¨ï¼ˆMarkdown åŸç”Ÿæ”¯æŒï¼‰
   - SVG å¯¼å‡º
   - JSON æ•°æ®å¯¼å‡º

**æŠ€æœ¯æ–¹æ¡ˆ**:
```typescript
interface WikiGraphVisualization {
  type: 'dependency' | 'reference' | 'call-graph' | 'inheritance';
  format: 'mermaid' | 'svg' | 'json';
  interactive: boolean;
  options: GraphOptions;
}

interface GraphOptions {
  maxDepth: number;
  excludePatterns: string[];
  highlightCycles: boolean;
  groupByLayer: boolean;
  showExternal: boolean;
}

interface WikiGraphGenerator {
  generateDependencyGraph(architecture: ArchitectureReport): string;
  generateCallGraph(symbols: Symbol[]): string;
  generateInheritanceGraph(classes: ClassSymbol[]): string;
  exportToMermaid(graph: Graph): string;
  exportToSVG(graph: Graph): string;
}
```

**ä¾èµ–å…³ç³»**:
- ä¾èµ– ArchitectureAnalyzer æ¨¡å—
- ä¾èµ–ç°æœ‰ä¾èµ–å›¾æ•°æ®ç»“æ„

**éªŒæ”¶æ ‡å‡†**:
- [ ] å¯ç”Ÿæˆæ¨¡å—ä¾èµ–å…³ç³» Mermaid å›¾
- [ ] å¯ç”Ÿæˆå‡½æ•°è°ƒç”¨å…³ç³»å›¾
- [ ] å¯ç”Ÿæˆç±»ç»§æ‰¿å…³ç³»å›¾
- [ ] æ”¯æŒå›¾è¡¨å¯¼å‡º

---

### Phase 2: P1 åä½œåŠŸèƒ½ï¼ˆé¢„è®¡ 2 å‘¨ï¼‰

#### 2.2.1 å›¢é˜Ÿåä½œåŠŸèƒ½

**ç›®æ ‡**: æ”¯æŒå¤šäººåä½œç¼–è¾‘å’Œç®¡ç† Wiki

**åŠŸèƒ½éœ€æ±‚**:
1. å¤šç”¨æˆ·æ”¯æŒ
   - ç”¨æˆ·èº«ä»½è¯†åˆ«
   - ç”¨æˆ·é…ç½®ç®¡ç†
   - ç”¨æˆ·æ´»åŠ¨è®°å½•

2. æƒé™ç®¡ç†
   - è§’è‰²å®šä¹‰ï¼ˆç®¡ç†å‘˜/ç¼–è¾‘è€…/æŸ¥çœ‹è€…ï¼‰
   - é¡µé¢çº§æƒé™æ§åˆ¶
   - æ“ä½œæƒé™æ§åˆ¶

3. åä½œçŠ¶æ€åŒæ­¥
   - å®æ—¶ç¼–è¾‘çŠ¶æ€
   - ç¼–è¾‘é”æœºåˆ¶
   - å˜æ›´é€šçŸ¥

**æŠ€æœ¯æ–¹æ¡ˆ**:
```typescript
interface WikiContributor {
  id: string;
  name: string;
  email: string;
  role: 'admin' | 'editor' | 'viewer';
  joinedAt: Date;
  lastActiveAt: Date;
}

interface WikiPermission {
  userId: string;
  resource: 'page' | 'document' | 'global';
  resourceId?: string;
  actions: ('read' | 'write' | 'delete' | 'share')[];
}

interface WikiCollaborationService {
  addContributor(contributor: WikiContributor): Promise<void>;
  removeContributor(userId: string): Promise<void>;
  setPermission(permission: WikiPermission): Promise<void>;
  getPermissions(userId: string): Promise<WikiPermission[]>;
  lockPage(pageId: string, userId: string): Promise<boolean>;
  unlockPage(pageId: string): Promise<void>;
  getActiveEditors(): Promise<WikiContributor[]>;
}
```

**ä¾èµ–å…³ç³»**:
- ä¾èµ–ç°æœ‰å®¡è®¡æ—¥å¿—æ¨¡å—
- ä¾èµ–ç‰ˆæœ¬å†å²æ¨¡å—

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ”¯æŒå¤šç”¨æˆ·èº«ä»½ç®¡ç†
- [ ] æ”¯æŒè§’è‰²å’Œæƒé™æ§åˆ¶
- [ ] æ”¯æŒé¡µé¢ç¼–è¾‘é”
- [ ] å¯æŸ¥çœ‹æ´»è·ƒç¼–è¾‘è€…

---

#### 2.2.2 éšæ€§çŸ¥è¯†æ˜¾æ€§åŒ–ï¼ˆADRï¼‰

**ç›®æ ‡**: å®ç°æ¶æ„å†³ç­–è®°å½•ï¼ˆADRï¼‰åŠŸèƒ½

**åŠŸèƒ½éœ€æ±‚**:
1. ADR æ•°æ®ç»“æ„
   - æ ‡å‡†åŒ– ADR æ ¼å¼
   - çŠ¶æ€ç®¡ç†ï¼ˆæè®®/æ¥å—/åºŸå¼ƒ/æ›¿ä»£ï¼‰
   - å…³è”ä»£ç å’Œæ–‡æ¡£

2. è‡ªåŠ¨æå–æœºåˆ¶
   - ä»ä»£ç æ³¨é‡Šæå–å†³ç­–
   - ä»æäº¤ä¿¡æ¯æå–å†³ç­–
   - ä»æ–‡æ¡£æå–å†³ç­–

3. ADR æ¨¡æ¿ç³»ç»Ÿ
   - é¢„è®¾æ¨¡æ¿
   - è‡ªå®šä¹‰æ¨¡æ¿
   - æ¨¡æ¿å˜é‡

**æŠ€æœ¯æ–¹æ¡ˆ**:
```typescript
interface ArchitectureDecisionRecord {
  id: string;
  title: string;
  status: 'proposed' | 'accepted' | 'deprecated' | 'superseded';
  context: string;
  decision: string;
  consequences: string;
  alternatives: Alternative[];
  author: string;
  createdAt: Date;
  updatedAt: Date;
  relatedPages: string[];
  relatedCode: string[];
  tags: string[];
}

interface Alternative {
  title: string;
  description: string;
  pros: string[];
  cons: string[];
  rejected: boolean;
  rejectedReason?: string;
}

interface ADRService {
  create(adr: ArchitectureDecisionRecord): Promise<ArchitectureDecisionRecord>;
  update(id: string, adr: Partial<ArchitectureDecisionRecord>): Promise<ArchitectureDecisionRecord>;
  get(id: string): Promise<ArchitectureDecisionRecord | null>;
  list(filter?: ADRFilter): Promise<ArchitectureDecisionRecord[]>;
  extractFromCode(parsedFiles: ParsedFile[]): Promise<ArchitectureDecisionRecord[]>;
  extractFromCommits(commits: Commit[]): Promise<ArchitectureDecisionRecord[]>;
  generateFromTemplate(template: ADRTemplate): ArchitectureDecisionRecord;
}
```

**ä¾èµ–å…³ç³»**:
- ä¾èµ–ä»£ç è§£ææ¨¡å—
- ä¾èµ– Git å†å²æ¨¡å—

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ”¯æŒåˆ›å»ºå’Œç®¡ç† ADR
- [ ] å¯ä»ä»£ç æ³¨é‡Šè‡ªåŠ¨æå– ADR
- [ ] æ”¯æŒ ADR çŠ¶æ€æµè½¬
- [ ] æ”¯æŒ ADR æ¨¡æ¿

---

### Phase 3: P2 ä½“éªŒå¢å¼ºï¼ˆé¢„è®¡ 1 å‘¨ï¼‰

#### 2.3.1 Wiki ç¼–è¾‘å™¨å¢å¼º

**ç›®æ ‡**: æä¾›æ›´å¥½çš„ Wiki ç¼–è¾‘ä½“éªŒ

**åŠŸèƒ½éœ€æ±‚**:
1. ç¼–è¾‘æ¨¡å¼
   - Markdown æºç ç¼–è¾‘
   - æ‰€è§å³æ‰€å¾—ç¼–è¾‘
   - åˆ†å±é¢„è§ˆ

2. è¾…åŠ©åŠŸèƒ½
   - è‡ªåŠ¨ä¿å­˜
   - è¯­æ³•æ£€æŸ¥
   - AI è¾…åŠ©å†™ä½œå»ºè®®

3. æ¨¡æ¿ç³»ç»Ÿ
   - é¢„è®¾æ¨¡æ¿ï¼ˆAPI æ–‡æ¡£ã€æ¨¡å—æ–‡æ¡£ç­‰ï¼‰
   - è‡ªå®šä¹‰æ¨¡æ¿
   - æ¨¡æ¿å˜é‡å¡«å……

**æŠ€æœ¯æ–¹æ¡ˆ**:
```typescript
interface WikiEditorConfig {
  mode: 'markdown' | 'wysiwyg' | 'split';
  autoSave: boolean;
  autoSaveInterval: number;
  spellCheck: boolean;
  aiAssist: boolean;
  previewTheme: string;
}

interface WikiEditSession {
  id: string;
  pageId: string;
  userId: string;
  startedAt: Date;
  lastSaved: Date;
  content: string;
  originalContent: string;
  isDirty: boolean;
  cursorPosition: Position;
}

interface WikiTemplate {
  id: string;
  name: string;
  description: string;
  category: WikiCategory;
  content: string;
  variables: TemplateVariable[];
}

interface TemplateVariable {
  name: string;
  type: 'string' | 'number' | 'date' | 'list';
  default?: string;
  required: boolean;
  description: string;
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ”¯æŒåˆ†å±é¢„è§ˆç¼–è¾‘
- [ ] æ”¯æŒè‡ªåŠ¨ä¿å­˜
- [ ] æ”¯æŒé¢„è®¾æ¨¡æ¿
- [ ] æ”¯æŒè‡ªå®šä¹‰æ¨¡æ¿

---

#### 2.3.2 æ¶æ„æ–‡æ¡£å¯è§†åŒ–

**ç›®æ ‡**: å¢å¼ºæ¶æ„æ–‡æ¡£çš„å¯è§†åŒ–å±•ç¤º

**åŠŸèƒ½éœ€æ±‚**:
1. æ¶æ„å›¾ç”Ÿæˆ
   - åˆ†å±‚æ¶æ„å›¾
   - ç»„ä»¶æ¶æ„å›¾
   - éƒ¨ç½²æ¶æ„å›¾

2. äº¤äº’åŠŸèƒ½
   - èŠ‚ç‚¹ç‚¹å‡»è·³è½¬
   - å±‚çº§å±•å¼€/æŠ˜å 
   - è¿‡æ»¤å’Œæœç´¢

3. å¯¼å‡ºåŠŸèƒ½
   - Mermaid æ ¼å¼
   - SVG æ ¼å¼
   - PNG æ ¼å¼

**æŠ€æœ¯æ–¹æ¡ˆ**:
```typescript
interface ArchitectureDiagram {
  type: 'layered' | 'component' | 'deployment';
  nodes: DiagramNode[];
  edges: DiagramEdge[];
  layers?: DiagramLayer[];
  metadata: DiagramMetadata;
}

interface DiagramNode {
  id: string;
  label: string;
  type: string;
  layer?: string;
  position: { x: number; y: number };
  size: { width: number; height: number };
  style: NodeStyle;
  link?: string;
}

interface DiagramEdge {
  id: string;
  source: string;
  target: string;
  label?: string;
  style: EdgeStyle;
  type: 'solid' | 'dashed' | 'dotted';
}

interface ArchitectureDiagramService {
  generateLayeredDiagram(architecture: ArchitectureReport): ArchitectureDiagram;
  generateComponentDiagram(modules: Module[]): ArchitectureDiagram;
  exportToMermaid(diagram: ArchitectureDiagram): string;
  exportToSVG(diagram: ArchitectureDiagram): string;
  exportToPNG(diagram: ArchitectureDiagram): Buffer;
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] å¯ç”Ÿæˆåˆ†å±‚æ¶æ„å›¾
- [ ] å¯ç”Ÿæˆç»„ä»¶æ¶æ„å›¾
- [ ] æ”¯æŒ Mermaid æ ¼å¼å¯¼å‡º
- [ ] æ”¯æŒ SVG æ ¼å¼å¯¼å‡º

---

### Phase 4: P3 é«˜çº§åŠŸèƒ½ï¼ˆé¢„è®¡ 1 å‘¨ï¼‰

#### 2.4.1 çŸ¥è¯†å›¾è°±æ„å»º

**ç›®æ ‡**: æ„å»ºé¡¹ç›®çŸ¥è¯†å›¾è°±ï¼Œæ”¯æŒæ™ºèƒ½æ¨è

**åŠŸèƒ½éœ€æ±‚**:
1. çŸ¥è¯†èŠ‚ç‚¹æå–
   - æ¦‚å¿µèŠ‚ç‚¹
   - API èŠ‚ç‚¹
   - æ¨¡å—èŠ‚ç‚¹
   - æ¨¡å¼èŠ‚ç‚¹

2. å…³ç³»å›¾è°±ç”Ÿæˆ
   - èŠ‚ç‚¹å…³ç³»
   - èšç±»åˆ†æ
   - é‡è¦æ€§è¯„ä¼°

3. æ™ºèƒ½æ¨è
   - ç›¸å…³æ–‡æ¡£æ¨è
   - ç›¸å…³ä»£ç æ¨è
   - å­¦ä¹ è·¯å¾„æ¨è

**æŠ€æœ¯æ–¹æ¡ˆ**:
```typescript
interface KnowledgeGraph {
  nodes: KnowledgeNode[];
  edges: KnowledgeEdge[];
  clusters: KnowledgeCluster[];
  metadata: GraphMetadata;
}

interface KnowledgeNode {
  id: string;
  type: 'concept' | 'api' | 'module' | 'pattern' | 'decision';
  name: string;
  description: string;
  sources: string[];
  confidence: number;
  importance: number;
  tags: string[];
}

interface KnowledgeEdge {
  id: string;
  source: string;
  target: string;
  type: 'relates-to' | 'depends-on' | 'implements' | 'extends' | 'uses';
  weight: number;
  evidence: string[];
}

interface KnowledgeCluster {
  id: string;
  name: string;
  nodes: string[];
  description: string;
  representative: string;
}

interface KnowledgeGraphService {
  build(parsedFiles: ParsedFile[], wiki: WikiDocument): Promise<KnowledgeGraph>;
  findRelated(nodeId: string, limit?: number): Promise<KnowledgeNode[]>;
  getLearningPath(startNode: string, endNode: string): Promise<KnowledgeNode[]>;
  recommend(userId: string, context: string): Promise<Recommendation[]>;
  exportToJSON(graph: KnowledgeGraph): string;
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] å¯æ„å»ºçŸ¥è¯†å›¾è°±
- [ ] æ”¯æŒç›¸å…³èŠ‚ç‚¹æŸ¥è¯¢
- [ ] æ”¯æŒå­¦ä¹ è·¯å¾„ç”Ÿæˆ
- [ ] æ”¯æŒæ™ºèƒ½æ¨è

---

#### 2.4.2 å˜æ›´å½±å“åˆ†æå¢å¼º

**ç›®æ ‡**: æä¾›æ›´æ·±å…¥çš„å˜æ›´å½±å“åˆ†æ

**åŠŸèƒ½éœ€æ±‚**:
1. å½±å“èŒƒå›´åˆ†æ
   - ç›´æ¥å½±å“åˆ†æ
   - é—´æ¥å½±å“åˆ†æ
   - å½±å“é“¾è·¯è¿½è¸ª

2. é£é™©è¯„ä¼°
   - é£é™©ç­‰çº§è¯„ä¼°
   - å½±å“é¢è¯„ä¼°
   - ç ´åæ€§å˜æ›´æ£€æµ‹

3. å»ºè®®ç”Ÿæˆ
   - éœ€è¦æ›´æ–°çš„æ–‡æ¡£
   - éœ€è¦è¿è¡Œçš„æµ‹è¯•
   - éœ€è¦é€šçŸ¥çš„äººå‘˜

**æŠ€æœ¯æ–¹æ¡ˆ**:
```typescript
interface EnhancedChangeImpact {
  changeId: string;
  filePath: string;
  changeType: 'add' | 'modify' | 'delete' | 'rename';
  directImpact: ImpactItem[];
  indirectImpact: ImpactItem[];
  impactChain: ImpactChain[];
  riskAssessment: RiskAssessment;
  suggestedActions: SuggestedAction[];
}

interface ImpactItem {
  type: 'code' | 'test' | 'doc' | 'config';
  path: string;
  symbol?: string;
  impactLevel: 'high' | 'medium' | 'low';
  description: string;
}

interface ImpactChain {
  startNode: string;
  endNode: string;
  path: string[];
  impactType: string;
}

interface RiskAssessment {
  level: 'low' | 'medium' | 'high' | 'critical';
  score: number;
  factors: RiskFactor[];
  mitigation: string[];
}

interface RiskFactor {
  name: string;
  description: string;
  severity: number;
  affectedItems: string[];
}

interface SuggestedAction {
  type: 'update-doc' | 'run-test' | 'notify-user' | 'review-code';
  priority: 'high' | 'medium' | 'low';
  description: string;
  target: string;
  estimatedEffort: string;
}

interface ChangeImpactAnalyzer {
  analyze(filePath: string, changeType: string): Promise<EnhancedChangeImpact>;
  analyzeBatch(changes: FileChange[]): Promise<EnhancedChangeImpact[]>;
  getImpactChain(startNode: string, maxDepth: number): Promise<ImpactChain[]>;
  assessRisk(impact: EnhancedChangeImpact): RiskAssessment;
  generateSuggestions(impact: EnhancedChangeImpact): SuggestedAction[];
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] å¯åˆ†æç›´æ¥å’Œé—´æ¥å½±å“
- [ ] å¯ç”Ÿæˆå½±å“é“¾è·¯
- [ ] å¯è¿›è¡Œé£é™©è¯„ä¼°
- [ ] å¯ç”Ÿæˆå»ºè®®æ“ä½œ

---

## ä¸‰ã€æŠ€æœ¯æ¶æ„

### 3.1 æ¨¡å—ä¾èµ–å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        WikiManager                               â”‚
â”‚  (æ ¸å¿ƒæ§åˆ¶å™¨ - åè°ƒæ‰€æœ‰å­æ¨¡å—)                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â–º WikiStorage (å­˜å‚¨å±‚)
         â”‚
         â”œâ”€â”€â–º WikiKnowledgeBase (çŸ¥è¯†åº“)
         â”‚
         â”œâ”€â”€â–º WikiVectorStore (å‘é‡å­˜å‚¨)
         â”‚
         â”œâ”€â”€â–º WikiHistory (ç‰ˆæœ¬å†å²)
         â”‚
         â”œâ”€â”€â–º WikiAudit (å®¡è®¡æ—¥å¿—)
         â”‚
         â”œâ”€â”€â–º WikiAutoSync (è‡ªåŠ¨åŒæ­¥)
         â”‚
         â”œâ”€â”€â–º WikiSyncMonitor (åŒæ­¥ç›‘æ§)
         â”‚
         â”œâ”€â”€â–º WikiMemory (é¡¹ç›®è®°å¿†)
         â”‚
         â”œâ”€â”€â–º WikiContextCompressor (ä¸Šä¸‹æ–‡å‹ç¼©)
         â”‚
         â”œâ”€â”€â–º WikiPromptEnhancer (Prompt å¢å¼º)
         â”‚
         â”œâ”€â”€â–º [NEW] WikiSharingService (å…±äº«æœåŠ¡) â”€â”€â”€â”€â”€â”€â”€ Phase 1
         â”‚
         â”œâ”€â”€â–º [NEW] WikiGraphGenerator (å›¾è°±ç”Ÿæˆ) â”€â”€â”€â”€â”€â”€â”€ Phase 1
         â”‚
         â”œâ”€â”€â–º [NEW] WikiCollaborationService (åä½œæœåŠ¡) â”€ Phase 2
         â”‚
         â”œâ”€â”€â–º [NEW] ADRService (ADR æœåŠ¡) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Phase 2
         â”‚
         â”œâ”€â”€â–º [NEW] WikiEditorService (ç¼–è¾‘å™¨æœåŠ¡) â”€â”€â”€â”€â”€â”€ Phase 3
         â”‚
         â”œâ”€â”€â–º [NEW] ArchitectureDiagramService (æ¶æ„å›¾) â”€ Phase 3
         â”‚
         â”œâ”€â”€â–º [NEW] KnowledgeGraphService (çŸ¥è¯†å›¾è°±) â”€â”€â”€â”€ Phase 4
         â”‚
         â””â”€â”€â–º [NEW] ChangeImpactAnalyzer (å½±å“åˆ†æ) â”€â”€â”€â”€â”€ Phase 4
```

### 3.2 æ–‡ä»¶ç»“æ„è§„åˆ’

```
src/wiki/
â”œâ”€â”€ index.ts
â”œâ”€â”€ types.ts                    # æ‰©å±•ç±»å‹å®šä¹‰
â”œâ”€â”€ wiki-manager.ts             # æ ¸å¿ƒç®¡ç†å™¨ï¼ˆæ‰©å±•ï¼‰
â”œâ”€â”€ wiki-storage.ts
â”œâ”€â”€ wiki-knowledge-base.ts
â”œâ”€â”€ wiki-vector-store.ts
â”œâ”€â”€ wiki-history.ts
â”œâ”€â”€ wiki-diff.ts
â”œâ”€â”€ wiki-audit.ts
â”œâ”€â”€ wiki-auto-sync.ts
â”œâ”€â”€ wiki-sync-monitor.ts
â”œâ”€â”€ wiki-memory.ts
â”œâ”€â”€ wiki-context-compressor.ts
â”œâ”€â”€ wiki-prompt-enhancer.ts
â”‚
â”œâ”€â”€ sharing/                    # [NEW] å…±äº«æ¨¡å—
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ wiki-sharing-service.ts
â”‚   â”œâ”€â”€ wiki-sharing-config.ts
â”‚   â””â”€â”€ wiki-sync-resolver.ts
â”‚
â”œâ”€â”€ graph/                      # [NEW] å›¾è°±æ¨¡å—
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ wiki-graph-generator.ts
â”‚   â”œâ”€â”€ dependency-graph.ts
â”‚   â”œâ”€â”€ call-graph.ts
â”‚   â””â”€â”€ inheritance-graph.ts
â”‚
â”œâ”€â”€ collaboration/              # [NEW] åä½œæ¨¡å—
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ wiki-collaboration-service.ts
â”‚   â”œâ”€â”€ wiki-permission.ts
â”‚   â””â”€â”€ wiki-lock.ts
â”‚
â”œâ”€â”€ adr/                        # [NEW] ADR æ¨¡å—
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ adr-service.ts
â”‚   â”œâ”€â”€ adr-extractor.ts
â”‚   â””â”€â”€ adr-templates.ts
â”‚
â”œâ”€â”€ editor/                     # [NEW] ç¼–è¾‘å™¨æ¨¡å—
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ wiki-editor-service.ts
â”‚   â”œâ”€â”€ wiki-templates.ts
â”‚   â””â”€â”€ wiki-preview.ts
â”‚
â”œâ”€â”€ diagram/                    # [NEW] æ¶æ„å›¾æ¨¡å—
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ architecture-diagram.ts
â”‚   â”œâ”€â”€ diagram-exporter.ts
â”‚   â””â”€â”€ diagram-templates.ts
â”‚
â”œâ”€â”€ knowledge/                  # [NEW] çŸ¥è¯†å›¾è°±æ¨¡å—
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ knowledge-graph-service.ts
â”‚   â”œâ”€â”€ node-extractor.ts
â”‚   â”œâ”€â”€ edge-builder.ts
â”‚   â””â”€â”€ recommendation.ts
â”‚
â””â”€â”€ impact/                     # [NEW] å½±å“åˆ†ææ¨¡å—
    â”œâ”€â”€ index.ts
    â”œâ”€â”€ change-impact-analyzer.ts
    â”œâ”€â”€ risk-assessment.ts
    â””â”€â”€ suggestion-generator.ts
```

---

## å››ã€é‡Œç¨‹ç¢‘è®¡åˆ’

| é˜¶æ®µ | åŠŸèƒ½ | å¼€å§‹æ—¥æœŸ | ç»“æŸæ—¥æœŸ | çŠ¶æ€ |
|------|------|---------|---------|------|
| Phase 1 | Wiki å…±äº«æœºåˆ¶ | 2026-02-17 | 2026-02-23 | å¾…å¼€å§‹ |
| Phase 1 | å¼•ç”¨å…³ç³»å›¾è°±å¯è§†åŒ– | 2026-02-17 | 2026-02-23 | å¾…å¼€å§‹ |
| Phase 2 | å›¢é˜Ÿåä½œåŠŸèƒ½ | 2026-02-24 | 2026-03-02 | å¾…å¼€å§‹ |
| Phase 2 | éšæ€§çŸ¥è¯†æ˜¾æ€§åŒ–ï¼ˆADRï¼‰ | 2026-02-24 | 2026-03-02 | å¾…å¼€å§‹ |
| Phase 3 | Wiki ç¼–è¾‘å™¨å¢å¼º | 2026-03-03 | 2026-03-06 | å¾…å¼€å§‹ |
| Phase 3 | æ¶æ„æ–‡æ¡£å¯è§†åŒ– | 2026-03-03 | 2026-03-06 | å¾…å¼€å§‹ |
| Phase 4 | çŸ¥è¯†å›¾è°±æ„å»º | 2026-03-07 | 2026-03-10 | å¾…å¼€å§‹ |
| Phase 4 | å˜æ›´å½±å“åˆ†æå¢å¼º | 2026-03-07 | 2026-03-10 | å¾…å¼€å§‹ |

---

## äº”ã€é£é™©è¯„ä¼°

| é£é™© | å¯èƒ½æ€§ | å½±å“ | ç¼“è§£æªæ–½ |
|------|-------|------|---------|
| Git é›†æˆå¤æ‚åº¦é«˜ | ä¸­ | é«˜ | å¤ç”¨ç°æœ‰ GitWatcher æ¨¡å— |
| å›¾è¡¨æ¸²æŸ“æ€§èƒ½é—®é¢˜ | ä½ | ä¸­ | ä½¿ç”¨å¢é‡æ¸²æŸ“å’Œç¼“å­˜ |
| å¤šç”¨æˆ·å¹¶å‘å†²çª | ä¸­ | é«˜ | å®ç°ä¹è§‚é”å’Œå†²çªæ£€æµ‹ |
| ADR è‡ªåŠ¨æå–å‡†ç¡®ç‡ä½ | é«˜ | ä¸­ | ç»“åˆäººå·¥å®¡æ ¸å’Œ AI è¾…åŠ© |

---

## å…­ã€å‚è€ƒèµ„æº

- [Qoder Repo Wiki åŠŸèƒ½ä»‹ç»](http://m.163.com/news/article/K99712UF00099BK0.html)
- [ADR æ¶æ„å†³ç­–è®°å½•è§„èŒƒ](https://adr.github.io/)
- [Mermaid å›¾è¡¨è¯­æ³•](https://mermaid.js.org/)
- [ç°æœ‰ Wiki æ¨¡å—æ–‡æ¡£](../wiki/README.md)
